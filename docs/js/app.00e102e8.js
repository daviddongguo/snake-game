(function(e){function t(t){for(var r,a,s=t[0],c=t[1],u=t[2],f=0,d=[];f<s.length;f++)a=s[f],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(d.length)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={app:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/snake-game/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},2395:function(e,t,n){},"7c55":function(e,t,n){"use strict";n("2395")},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"main"}},[n("Stage"),n("Score")],1)},i=[],a=n("d4ec"),s=n("262e"),c=n("2caf"),u=n("9ab4"),l=n("1b40"),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"stage"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isRunning,expression:"!isRunning"}],attrs:{id:"info"}},[n("h1",[e._v("Right Snake")]),n("h3",[e._v("Please enter spance to start the snake")]),n("h3",[e._v("press space to turn the snake right")])]),e.isRunning?n("Snake"):e._e(),e.isRunning?n("Food"):e._e()],1)},d=[],p=n("5530"),v=n("2f62"),y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"snake"}},e._l(e.snake.body,(function(t,r){return n("SnakeBody",{key:t.x.toString()+t.y,attrs:{position:t,isHeader:0===r,isTail:r===e.snake.body.length-1}})})),1)},h=[],b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:{left:e.leftOffset,top:e.topOffset,backgroundColor:e.color}})},k=[],x=(n("d3b7"),n("25f0"),{props:["position","isHeader","isTail"],computed:{leftOffset:function(){return"".concat(this.position.x.toString(),"px")},topOffset:function(){return"".concat(this.position.y.toString(),"px")},color:function(){return this.isHeader?"red":this.isTail?"grey":"black"}}}),m=x,O=n("2877"),_=Object(O["a"])(m,b,k,!1,null,null,null),g=_.exports,S={name:"Snake",components:{SnakeBody:g},computed:Object(p["a"])({},Object(v["c"])(["snake","food"]))},j=S,E=Object(O["a"])(j,y,h,!1,null,null,null),T=E.exports,A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:{left:e.leftOffset,top:e.topOffset},attrs:{id:"food"}},[n("div"),n("div"),n("div"),n("div")])},N=[],R={computed:{leftOffset:function(){return"".concat(this.$store.state.food.x.toString(),"px")},topOffset:function(){return"".concat(this.$store.state.food.y.toString(),"px")}}},w=R,K=Object(O["a"])(w,A,N,!1,null,null,null),$=K.exports,P={data:function(){return{isRunning:!1}},computed:Object(p["a"])(Object(p["a"])({},Object(v["c"])(["snake","food","isAlive"])),Object(v["b"])(["level"])),components:{Snake:T,Food:$},methods:{stop:function(){clearInterval(this.timer)},move:function(){this.isAlive||this.stop(),this.$store.dispatch("moveSnake")},right:function(){this.$store.dispatch("turnSnake")},run:function(e){var t=this;clearInterval(this.timer),this.timer=setInterval((function(){t.move()}),e)},start:function(){var e=this;this.isRunning=!0,setTimeout((function(){e.run(500-5*e.level)}),1e3)}},mounted:function(){var e=this;window.addEventListener("keypress",(function(t){var n=String.fromCharCode(t.keyCode);console.log(n)," "!==n||e.isRunning||e.start()," "===n&&e.isRunning&&e.right()}))}},F=P,H=Object(O["a"])(F,f,d,!1,null,null,null),G=H.exports,U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"score-panel"}},[n("div",[e._v(" Score: "),n("span",{attrs:{id:"score"}},[e._v(e._s(e.score))])]),n("div",{on:{click:e.levelUp}},[e._v(" Level: "),n("span",{attrs:{id:"level"}},[e._v(e._s(e.level))])])])},C=[],I={computed:Object(p["a"])(Object(p["a"])({},Object(v["c"])(["score"])),Object(v["b"])(["level"])),methods:{levelUp:function(){this.$store.dispatch("levelUp")}}},M=I,D=Object(O["a"])(M,U,C,!1,null,null,null),L=D.exports,W=function(e){Object(s["a"])(n,e);var t=Object(c["a"])(n);function n(){return Object(a["a"])(this,n),t.apply(this,arguments)}return n}(l["b"]);W=Object(u["a"])([Object(l["a"])({components:{Stage:G,Score:L}})],W);var B=W,J=B,q=(n("7c55"),Object(O["a"])(J,o,i,!1,null,null,null)),z=q.exports,Q=n("53ca"),V=(n("fb6a"),function(e,t){return(e+4+t)%4}),X=function(){function e(){return 10*Math.floor(30*Math.random())}var t=e(),n=e();return{x:t,y:n}},Y=function(e){return e.x>=0&&e.x<=290&&e.y>=0&&e.y<=290},Z=function(e,t){switch(t){case 0:return{x:e.x,y:e.y-10};case 1:return{x:e.x+10,y:e.y};case 2:return{x:e.x,y:e.y+10};case 3:return{x:e.x-10,y:e.y};default:return e}},ee=function(e,t){return e.x===t.x&&e.y===t.y};r["a"].use(v["a"]);var te=function(){return[{x:120,y:120},{x:120,y:110},{x:120,y:100},{x:120,y:90},{x:120,y:80},{x:120,y:70},{x:120,y:60},{x:120,y:50},{x:120,y:40},{x:120,y:30},{x:120,y:20},{x:120,y:10},{x:120,y:0},{x:130,y:0},{x:140,y:0},{x:150,y:0},{x:160,y:0}]},ne=new v["a"].Store({state:{score:0,isAlive:!0,food:{x:120,y:150},snake:{direct:2,exTail:te()[te.length-1],body:te().slice(0,te.length-1)}},getters:{level:function(e){return e.snake.body.length}},mutations:{SNAKE_STEP:function(e){var t=e.snake,n=Z(t.body[0],t.direct);while(!Y(n))e.snake.direct=(e.snake.direct+1)%4,n=Z(t.body[0],t.direct);t.body.unshift(n),e.snake.exTail=t.body.pop()||e.snake.exTail,e.score+=100},SNAKE_GROW:function(e){e.snake.body.push(e.snake.exTail)},SNAKE_TURN_RIGHT:function(e){e.snake.direct=V(e.snake.direct,1)},SNAKE_TURN_LEFT:function(e){e.snake.direct=V(e.snake.direct,-1)},SNAKE_REFRESH:function(e){e.snake={direct:2,exTail:te()[te.length-1],body:te().slice(0,te.length-1)},e.score=0,e.isAlive=!0},SNAKE_DIE:function(e){e.isAlive=!1},FOOD_CHANGE:function(e,t){e.food.x=t.x,e.food.y=t.y}},actions:{changeFood:function(e,t){var n=e.commit;e.state;t&&t.x&&t.y&&n("FOOD_CHANGE",t)},moveSnake:function(e){for(var t=e.commit,n=e.state,r=Z(n.snake.body[0],n.snake.direct),o=n.snake.body.length-2;o>=3;o-=1)if(ee(r,n.snake.body[o])){var i=function(){t("SNAKE_TURN_LEFT"),r=Z(n.snake.body[0],n.snake.direct);var e=r;return n.snake.body.some((function(t){return ee(t,e)}))?(t("SNAKE_DIE"),{v:void 0}):"break"}();if("break"===i)break;if("object"===Object(Q["a"])(i))return i.v}if(ee(n.food,r)){if(n.snake.body.some((function(e){return ee(e,n.snake.exTail)})))return;t("SNAKE_GROW"),t("FOOD_CHANGE",X())}t("SNAKE_STEP")},turnSnake:function(e){var t=e.commit,n=e.state,r=[],o=V(n.snake.direct,1);r.push(Z(n.snake.body[0],n.snake.direct)),r.push(Z(n.snake.body[0],o));for(var i=n.snake.body.length-2;i>=1;i-=1)if(ee(r[0],n.snake.body[i])||ee(r[1],n.snake.body[i]))return;t("SNAKE_TURN_RIGHT")},levelUp:function(e){e.state.snake.body.some((function(t){return ee(t,e.state.snake.exTail)}))||(e.commit("SNAKE_GROW"),e.dispatch("moveSnake"))}},modules:{}});r["a"].config.productionTip=!1,new r["a"]({store:ne,render:function(e){return e(z)}}).$mount("#app")}});
//# sourceMappingURL=app.00e102e8.js.map